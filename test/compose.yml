version: "3.8"
services:
  riscv-debian:
    build:
      context: .
      dockerfile: Containerfile.riscv
      args:
        USERNAME: auco1120
        USER_UID: 1000
        USER_GUID: 1000
    image: docker.io/riscv64/debian:stable-slim
    platform: linux/riscv64
    container_name: riscv-debian-dev
    hostname: riscv-debian
    user: "1000:1000"
    working_dir: /home/auco1120/project
    environment:
      - USER=auco1120
      - DISPLAY=${DISPLAY}
      - TERM=xterm-256color
      - HOME=/home/auco1120
    security_opt:
      - label=type:container_runtime_t
    volumes:
      - ./:/home/auco1120/project:Z
    stdin_open: true
    tty: true
    command: /bin/bash
    networks:
      - riscv-net

networks:
  riscv-net:
    driver: bridge
